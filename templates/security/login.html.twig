{% extends 'base.html.twig' %}

{% block title %}Log in!{% endblock %}

{% block body %}
<form method="post">
    {% if error %}
        <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
    {% endif %}

    {% if app.user %}
        <div class="mb-3">
            You are logged in as {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}">Logout</a>
        </div>
    {% endif %}

    <div class="container col-12 col-lg-4 mx-auto">
                <div style="display: flex;
                align-items: stretch;
                align-content: center;
                flex-direction: column;
                flex-wrap: nowrap;
                justify-content: center;
                
                background-color: white;
                border: 1px solid rgb(219,219,219);
                font-family: -apple-system;
                padding: 20px;" class = "mt-3"
                >
                 <h1 style = "text-align:center">Login</h1>
                 <input style = "margin-bottom:10px" type="Email" placeholder="Email" name = "email" value="{{last_username}}" class ="form-control" autocomplete ="email"  required autofocus>
                 <input  type="password" placeholder="Password" name ="password" class ="form-control" autocomplete ="current-password"  required autofocus>
                     <!-- <div style="background:rgb(0, 149,246,0.3);
                     text-align: center;
                     padding: 10px;
                     margin :10px;
                     border-radius: 5px;" name = "login";>Log in</div> -->
                     <button style ="border-radius:20px;
                     background:rgb(0, 149,246,0.3);
                     margin:10px" type = "submit" value ="Login" name ="btnLogin">Login</button>
                 
                 <div style="display:flex;
                 margin-top: 30px;
                 flex-direction: row;
                 align-items: center;">
                 </div>
                 <div style="background-color:gray;
                 height: 1px;
                 width:100%;
                 "></div>
                 <a href="#">
                     <div style="color:blue;
                     text-align: center;">Forgot Password?</div>
                 </a>
                 </div>
                
                
                       <div style=" 
                       align-items: stretch;
                       align-content: center;
                       flex-direction: column;
                       flex-wrap: nowrap;
                       justify-content: center;
                       background-color: white;
                       border: 1px solid rgb(219,219,219);
                       font-family: -apple-system;
                       padding: 10px;
                       text-align: center;" class="mt-3">
                Don't have an account?<a href="{{path('app_registration')}}">Sign up</a>
                       </div>

                       <a href="{{path('app_test')}}" style ="text-align: center; text-decoration: none; padding-top: 20px;">
                    <p style ="color:black">Back to Homepage <i class="bi bi-box-arrow-left"></i></p>
                </a>
            </div>

    <input type="hidden" name="_csrf_token"
           value="{{ csrf_token('authenticate') }}"
    >

    {#
        Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
        See https://symfony.com/doc/current/security/remember_me.html

        <div class="checkbox mb-3">
            <label>
                <input type="checkbox" name="_remember_me"> Remember me
            </label>
        </div>
    #}

    {# <button class="btn btn-lg btn-primary" type="submit">
        Sign in
    </button> #}
</form>
{% endblock %}
